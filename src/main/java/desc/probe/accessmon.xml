<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE probedesc PUBLIC "-//jrds//DTD Probe Description//EN" "urn:jrds:probedesc">
<!--
This probe use the label as an identifier
For more informations about HTTP access code :
http://en.wikipedia.org/wiki/List_of_HTTP_status_codes 
 -->
<probedesc>
	<name>AccessMonitor</name>
	<probeName>accessmon-${label}</probeName>
	<probeClass>jrds.probe.HttpXml</probeClass>
	<specific name="upTimePath">/stats/@uptime</specific>
	<uptimefactor>1.0</uptimefactor>
	<defaultargs>
		<attr name="port">8080</attr>
		<attr name="file">/_default</attr>
	</defaultargs>
	<ds>
		<dsName>status.200</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='200']/@count</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>svctime.200</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='200']/@service_time</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>status.206</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='206']/@count</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>svctime.206</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='206']/@service_time</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>status.301</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='301']/@count</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>svctime.301</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='301']/@service_time</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>status.302</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='302']/@count</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>svctime.302</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='302']/@service_time</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>status.304</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='304']/@count</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>svctime.304</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='304']/@service_time</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>status.400</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='400']/@count</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>svctime.400</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='400']/@service_time</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>status.401</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='401']/@count</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>svctime.401</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='401']/@service_time</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>status.403</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='403']/@count</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>svctime.403</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='403']/@service_time</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>status.404</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='404']/@count</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>svctime.404</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='404']/@service_time</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>status.500</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='500']/@count</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>svctime.500</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='500']/@service_time</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>status.503</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='503']/@count</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<ds>
		<dsName>svctime.503</dsName>
		<dsType>counter</dsType>
		<collect>/stats/status/code[@name='503']/@service_time</collect>
		<defaultValue>0</defaultValue>
	</ds>
	<graphs>
		<name>AccessMonitorStatus</name>
		<name>AccessMonitorSvcTime</name>
	</graphs>
</probedesc>
